(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,a){e.exports=a(67)},39:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);a(39);var s=a(0),i=a.n(s),r=a(15),o=a.n(r),n=a(6),l=a(12),c=a(35),d=a(9),p=a(7),u=a(1),h=a(2),m=a(5),v=a(3),y=a(4),g=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"renderTabs",value:function(){var e=this;return[{id:"settingsTab",text:"Settings",controls:"settingsView"},{id:"sourceCodeTab",text:"Source Code",controls:"sourceCodeView"}].map(function(t){return i.a.createElement("li",{key:t.id,className:e.props.activeTab===t.id?"tab-nav__item tab-nav__item--active":"tab-nav__item"},i.a.createElement("button",{id:t.id,onClick:e.props.onTabChange.bind(e,t.id),role:"tab","aria-selected":e.props.activeTab===t.id,"aria-controls":t.controls,className:e.props.activeTab===t.id?"tab-nav__btn tab-nav__btn--active":"tab-nav__btn"},t.text))})}},{key:"render",value:function(){return i.a.createElement("header",{className:"banner"},i.a.createElement("h1",{className:"banner__heading"},"Custom Carousel Generator"),i.a.createElement("nav",{className:"tab-nav"},i.a.createElement("ul",{role:"tablist",className:"tab-nav__list"},this.renderTabs())))}}]),t}(i.a.Component),f=a(10),b=function(e){var t=Object(s.useState)(!0),a=Object(p.a)(t,2),r=a[0],o=a[1],n=Object(s.useState)(""),l=Object(p.a)(n,2),c=l[0],d=l[1];return i.a.createElement("fieldset",{className:"fieldset"},i.a.createElement("legend",{className:"fieldset__legend--accordion"},i.a.createElement("div",{className:"fieldset__legend-flexwrap"},i.a.createElement("h2",{className:"fieldset__heading"},e.heading),i.a.createElement("hr",{className:"fieldset__legend-hr"}),i.a.createElement("button",{type:"button",onClick:function(){o(!r),d("")},className:"fieldset__accordion-btn","aria-expanded":r,"aria-controls":e.id},r?i.a.createElement("span",null,"\u2212"):i.a.createElement("span",null,"+")))),i.a.createElement("div",{id:e.id,className:"".concat(r?"fieldset__accordion-content":"fieldset__accordion-content fieldset__accordion-content--collapsed"," ").concat(c),"aria-hidden":!r,onTransitionEnd:function(e){"opacity"!==e.propertyName||r||d("hidden")}},e.children))},C=function(e){var t=e.isDisabled?"input-group disabled":"input-group",a=e.isRemoved?"removed":"";return i.a.createElement("div",{className:"".concat(t," ").concat(a)},e.children)},w=a(17),_=function(e){return i.a.createElement("label",{htmlFor:e.id,className:"checkbox-field__label"},i.a.createElement("div",{className:"checkbox-field__wrapper"},i.a.createElement("input",{className:"checkbox-field__input",onChange:e.handleChange,type:"checkbox",id:e.id,name:e.id,checked:e.value,tabIndex:e.tabIndex}),i.a.createElement("span",{className:"checkbox-field"})),i.a.createElement("span",null,e.label))},k=function(e){var t=e.label?i.a.createElement("label",{className:"input-group__label",htmlFor:e.id},e.label):null,a=e.unit?i.a.createElement("span",{className:"input-group__unit"},e.unit):null;return i.a.createElement(i.a.Fragment,null,t,i.a.createElement("input",{type:"text",id:e.id,className:e.styles||"text-field",name:e.id,value:e.value,placeholder:e.placeholder,onChange:e.handleChange,tabIndex:e.tabIndex}),a)},E=function(e){var t=e.label?i.a.createElement("label",{className:"input-group__label",htmlFor:e.id},e.label):null,a=e.unit?i.a.createElement("span",{className:"input-group__unit"},e.unit):null;return i.a.createElement(i.a.Fragment,null,t,i.a.createElement("input",{type:e.type,id:e.id,className:e.styles,name:e.name||e.id,value:e.value,onChange:e.handleChange,min:e.min,max:e.max,step:e.step,disabled:e.isDisabled,tabIndex:e.tabIndex}),a)},S=function(e){var t=e.label?i.a.createElement("label",{className:"input-group__label",htmlFor:e.id},e.label):null,a=e.unit?i.a.createElement("span",{className:"input-group__unit"},e.unit):null;return i.a.createElement(i.a.Fragment,null,t,i.a.createElement("select",{className:e.styles?e.styles:null,name:e.id,id:e.id,value:e.value,disabled:e.isDisabled,onChange:e.handleChange,tabIndex:e.tabIndex},e.options.map(function(t,a){return i.a.createElement("option",{key:t,value:e.optionValues?e.optionValues[a]:t.toLowerCase()},t)})),a)},O=function(e){var t=e.label?i.a.createElement("label",{className:"input-group__label",htmlFor:e.id},e.label):null;return i.a.createElement(i.a.Fragment,null,t,i.a.createElement("input",{type:"color",id:e.id,className:"color-field",name:e.id,value:e.value,onChange:e.handleChange,disabled:e.isDisabled,tabIndex:e.tabIndex}))},B=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"renderField",value:function(){var e=this.props,t=e.type,a=Object(w.a)(e,["type"]);switch(t){case"text":return i.a.createElement(k,a);case"checkbox":return i.a.createElement(_,a);case"number":case"range":return i.a.createElement(E,this.props);case"select":return i.a.createElement(S,a);case"color":return i.a.createElement(O,a);default:return}}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,this.renderField())}}]),t}(i.a.Component),x=a(23),A=a.n(x),I=a(36),R=a(37),L=a.n(R),j=function(e,t,a){return{type:"UPDATE_STYLE",payload:{name:e,prop:t,value:a}}},N=function(e){return{type:"UPDATE_SETTINGS",payload:e}},T=function(e){return{type:"ADD_OPTION",payload:e}},F=function(e){return{type:"REMOVE_OPTION",payload:e}},D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){var t,s=e.target.name;switch(s){case"carouselNamespace":var i=(t=e.target.value).match(/[\w-]/g);if((i=i?i.join("").replace(/^[0-9-]+/,""):"")===a.state.displayedNamespace)return;t=""===i?"my-carousel":e.target.value,a.setState({displayedNamespace:i});break;default:t="checkbox"===e.target.type?e.target.checked:e.target.value}a.currentField=s,a.props.updateSettings(Object(f.a)({},s,t))},a.state={displayedNamespace:""},a.currentField=null,a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"updateStyles",value:function(){switch(this.currentField){case"carouselNamespace":this.props.updateNamespace(this.props.carouselNamespace);break;case"carouselAutoplay":case"autoplayDuration":this.updateAutoplay()}this.currentField=null}},{key:"updateAutoplay",value:function(){if(this.props.carouselAutoplay){var e=1e3*this.props.autoplayDuration;this.props.addInstanceOption({autoplay:e})}else this.props.removeInstanceOption("autoplay")}},{key:"componentDidUpdate",value:function(){this.currentField&&this.updateStyles()}},{key:"render",value:function(){return i.a.createElement(b,{heading:"Carousel",id:"carousel-settings"},i.a.createElement("div",{className:"fieldset__group"},i.a.createElement(C,null,i.a.createElement(B,{type:"text",label:"Namespace ID",id:"carouselNamespace",value:this.state.displayedNamespace,handleChange:this.handleChange,placeholder:"i.e. my-carousel"})),i.a.createElement("div",{className:"input-group"},i.a.createElement("span",{className:"fieldset__description"},"A unique string used as html ID for Carousel instance"))),i.a.createElement("hr",{className:"fieldset__divider"}),i.a.createElement("div",{className:"fieldset__group"},i.a.createElement(C,null,i.a.createElement(B,{type:"checkbox",label:"Autoplay",id:"carouselAutoplay",value:this.props.carouselAutoplay,handleChange:this.handleChange})),i.a.createElement(C,{isDisabled:!this.props.carouselAutoplay},i.a.createElement(B,{isDisabled:!this.props.carouselAutoplay,type:"number",unit:"secs",styles:"number-field--lg",id:"autoplayDuration",value:this.props.autoplayDuration,handleChange:this.handleChange,min:"1",max:"12",step:"0.5"}))))}}]),t}(i.a.Component),q=Object(n.b)(function(e){return{carouselNamespace:e.settings.carouselNamespace,carouselAutoplay:e.settings.carouselAutoplay,autoplayDuration:e.settings.autoplayDuration}},{updateSettings:N,updateNamespace:function(e){return{type:"UPDATE_NAMESPACE",payload:e}},addInstanceOption:T,removeInstanceOption:F})(D),W=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,s="checkbox"===e.target.type?e.target.checked:e.target.value,i={};switch(t){case"pixelWidth":var r=s.match(/[0-9]/g);if((r=r?r.join(""):"")===a.props.pixelWidth)return;i=Object(f.a)({},t,r);break;default:i=Object(f.a)({},t,s)}a.currentField=t,a.props.updateSettings(i)},a.currentField=null,a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"updateStyles",value:function(e){switch(e){case"percentWidth":case"pixelWidth":case"widthUnits":this.updateViewportWidth();break;case"aspectRatio":this.updateAspectRatio();break;case"viewportBorder":case"viewportBorderColor":case"viewportBorderThickness":this.updateViewportBorder();break;case"roundingUnits":case"viewportRounding":this.updateViewportRounding()}this.currentField=null}},{key:"updateViewportWidth",value:function(){var e="%"===this.props.widthUnits?this.props.percentWidth:this.props.pixelWidth;this.props.updateCarouselStyle("carousel","width","".concat(e).concat(this.props.widthUnits)),"px"===this.props.widthUnits&&"px"===this.props.roundingUnits&&this.updateViewportRounding()}},{key:"updateAspectRatio",value:function(){this.props.updateCarouselStyle("viewport","paddingBottom","".concat(parseFloat((100*this.props.y/this.props.x).toFixed(2),10),"%")),"4:3"===this.props.aspectRatio?this.props.removeInstanceOption("aspectRatio"):this.props.addInstanceOption({aspectRatio:this.props.aspectRatio})}},{key:"updateViewportBorder",value:function(){this.props.viewportBorder?this.props.updateCarouselStyle("viewportWrapper","border","".concat(this.props.viewportBorderThickness,"px solid ").concat(this.props.viewportBorderColor)):this.props.updateCarouselStyle("viewportWrapper","border","none")}},{key:"updateViewportRounding",value:function(){var e=[this.props.x,this.props.y],t=e[0],a=e[1];if("px"===this.props.widthUnits)if("px"===this.props.roundingUnits){var s=((t>a?this.props.pixelWidth*a/t:this.props.pixelWidth*t/a)*(this.props.viewportRounding/100)).toFixed(2);this.props.updateCarouselStyle("viewportWrapper","borderRadius","".concat(s,"px"))}else this.props.updateCarouselStyle("viewportWrapper","borderRadius","".concat(this.props.viewportRounding,"%"));else if("px"===this.props.roundingUnits){var i=t>a?this.props.viewportRounding*a/t:this.props.viewportRounding*t/a,r=t>a?"".concat(i,"%/").concat(this.props.viewportRounding,"%"):"".concat(this.props.viewportRounding,"%/").concat(i,"%");this.props.updateCarouselStyle("viewportWrapper","borderRadius",r)}else this.props.updateCarouselStyle("viewportWrapper","borderRadius","".concat(this.props.viewportRounding,"%"))}},{key:"componentDidMount",value:function(){window.innerWidth<=600&&(this.props.updateCarouselStyle("viewportWrapper","borderRadius","".concat(this.props.viewportRounding,"%")),this.props.updateCarouselStyle("carousel","width","".concat(this.props.percentWidth).concat(this.props.widthUnits)))}},{key:"componentDidUpdate",value:function(e){this.currentField&&this.updateStyles(this.currentField),this.props.aspectRatio!==e.aspectRatio&&this.updateStyles("viewportRounding")}},{key:"render",value:function(){var e="%"===this.props.widthUnits?i.a.createElement(B,{type:"number",id:"percentWidth",label:"Width",min:"10",max:"100",step:"1",value:this.props.percentWidth,handleChange:this.handleChange,styles:"number-field--xl"}):i.a.createElement(B,{type:"text",id:"pixelWidth",label:"Width",placeholder:"i.e. 640",value:this.props.pixelWidth,handleChange:this.handleChange,styles:"number-field--xl"});return i.a.createElement(b,{heading:"Viewport",id:"viewport-settings"},i.a.createElement("div",{className:"fieldset__group"},i.a.createElement(C,null,e,i.a.createElement(B,{type:"select",id:"widthUnits",value:this.props.widthUnits,handleChange:this.handleChange,options:["%","px"],styles:"input-group__width-unit"}),i.a.createElement(B,{type:"range",id:"widthRange",name:"percentWidth",min:"10",max:"100",step:"1",value:this.props.percentWidth,handleChange:this.handleChange,styles:"px"===this.props.widthUnits?"input-group--sub-field disabled":"input-group--sub-field",isDisabled:"px"===this.props.widthUnits||null})),i.a.createElement(C,null,i.a.createElement(B,{type:"select",id:"aspectRatio",label:"Aspect Ratio",options:["4:3","3:2","1:1","16:9","10:3","3:4","2:3"],value:this.props.aspectRatio,handleChange:this.handleChange}))),i.a.createElement("hr",{className:"fieldset__divider"}),i.a.createElement("div",{className:"fieldset__group"},i.a.createElement(C,null,i.a.createElement(B,{type:"checkbox",label:"Border",id:"viewportBorder",value:this.props.viewportBorder,handleChange:this.handleChange})),i.a.createElement(C,{isDisabled:!this.props.viewportBorder},i.a.createElement(B,{type:"color",id:"viewportBorderColor",value:this.props.viewportBorderColor,handleChange:this.handleChange,isDisabled:!this.props.viewportBorder})),i.a.createElement(C,{isDisabled:!this.props.viewportBorder},i.a.createElement(B,{isDisabled:!this.props.viewportBorder,type:"number",label:"Thickness",styles:"number-field--sm",id:"viewportBorderThickness",value:this.props.viewportBorderThickness,handleChange:this.handleChange,min:"1",max:"10",step:"1"}))),i.a.createElement("hr",{className:"fieldset__divider"}),i.a.createElement("div",{className:"fieldset__group"},i.a.createElement(C,null,i.a.createElement(B,{type:"select",id:"roundingUnits",label:"Rounded Corners",options:["circular (px)","elliptical (%)"],optionValues:["px","%"],value:this.props.roundingUnits,handleChange:this.handleChange})),i.a.createElement(C,null,i.a.createElement(B,{type:"range",id:"viewportRounding",min:"0",max:"50",step:"1",value:this.props.viewportRounding,handleChange:this.handleChange}))))}}]),t}(i.a.Component),M=Object(n.b)(function(e){var t=e.settings.aspectRatio.split(":").map(function(e){return parseInt(e,10)}),a=Object(p.a)(t,2),s=a[0],i=a[1];return{percentWidth:e.settings.percentWidth,pixelWidth:e.settings.pixelWidth,widthUnits:e.settings.widthUnits,aspectRatio:e.settings.aspectRatio,x:s,y:i,viewportBorder:e.settings.viewportBorder,viewportBorderColor:e.settings.viewportBorderColor,viewportBorderThickness:e.settings.viewportBorderThickness,viewportRounding:e.settings.viewportRounding,roundingUnits:e.settings.roundingUnits}},{updateSettings:N,updateCarouselStyle:j,addInstanceOption:T,removeInstanceOption:F})(W),U=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,s="checkbox"===e.target.type?e.target.checked:e.target.value;a.currentField=t,a.props.updateSettings(Object(f.a)({},t,s))},a.currentField=null,a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"updateStyles",value:function(e){switch(e){case"imageSize":this.awaitImageLoading(),"contain"===this.props.imageSize?this.props.removeInstanceOption("imageSize"):this.props.addInstanceOption({imageSize:this.props.imageSize});break;case"endCapColor":this.updateEndCaps();break;case"slideOverlay":case"slideOverlayColor":case"slideOverlayOpacity":this.updateSlideOverlay();break;case"transitionStyle":this.updateTransitionStyle(),"horizontal"===this.props.transitionStyle?this.props.removeInstanceOption("transition"):this.props.addInstanceOption({transition:this.props.transitionStyle})}this.currentField=null}},{key:"awaitImageLoading",value:function(){var e=this,t=(this.props.x/this.props.y).toFixed(2);Object(d.a)(this.props.carouselRef.querySelectorAll(".carousel__slide-wrapper")).forEach(function(a){var s=a.querySelector(".carousel__slide"),i=setInterval(function(){s.naturalWidth&&(clearInterval(i),e.updateImageSize(a,s,t))},10)})}},{key:"updateImageSize",value:function(e,t,a){var s=(t.naturalWidth/t.naturalHeight).toFixed(2);if(e.className="carousel__slide-wrapper",e.style.width=null,e.style.height=null,"contain"===this.props.imageSize)if(s>a){e.classList.add("carousel__slide-wrapper--landscape");var i=a/s*100;e.style.height="".concat(i,"%")}else if(s<a){e.classList.add("carousel__slide-wrapper--portrait");var r=s/a*100;e.style.width="".concat(r,"%")}else e.classList.add("carousel__slide-wrapper--landscape","carousel__slide-wrapper--portrait"),t.classList.add("carousel__slide--landscape-contain","carousel__slide--portrait-contain");else if(s>a){e.classList.add("carousel__slide-wrapper--portrait");var o=s/a*100;e.style.width="".concat(o,"%")}else if(s<a){e.classList.add("carousel__slide-wrapper--landscape");var n=a/s*100;e.style.height="".concat(n,"%")}else e.classList.add("carousel__slide-wrapper--landscape","carousel__slide-wrapper--portrait"),t.classList.add("carousel__slide--landscape-contain","carousel__slide--portrait-contain")}},{key:"updateEndCaps",value:function(){this.props.updateCarouselStyle("slideContainer","backgroundColor",this.props.endCapColor)}},{key:"updateSlideOverlay",value:function(){this.props.slideOverlay?(this.props.updateCarouselStyle("slideOverlay","display","block"),this.props.updateCarouselStyle("slideOverlay","backgroundColor",this.props.slideOverlayColor),this.props.updateCarouselStyle("slideOverlay","opacity","".concat(this.props.slideOverlayOpacity/100))):this.props.updateCarouselStyle("slideOverlay","display","none")}},{key:"updateTransitionStyle",value:function(){switch(this.props.transitionStyle){case"viewmaster":this.props.updateCarouselStyle("slideContainer","transition","transform 0.3s ease-in"),this.props.updateCarouselStyle("slidePrev","transform","translate(-100%, 50%)"),this.props.updateCarouselStyle("slidePrev","opacity",""),this.props.updateCarouselStyle("slideQueue","transform","translate(100%, 50%)"),this.props.updateCarouselStyle("slideQueue","opacity","");break;case"vertical":this.props.updateCarouselStyle("slideContainer","transition","transform 0.3s ease-in"),this.props.updateCarouselStyle("slidePrev","transform","translate(0, -100%)"),this.props.updateCarouselStyle("slidePrev","opacity",""),this.props.updateCarouselStyle("slideQueue","transform","translate(0, 100%)"),this.props.updateCarouselStyle("slideQueue","opacity","");break;case"dissolve":this.props.updateCarouselStyle("slideContainer","transition","opacity 0.4s ease-in-out"),this.props.updateCarouselStyle("slidePrev","transform","translate(0, 0)"),this.props.updateCarouselStyle("slidePrev","opacity","0"),this.props.updateCarouselStyle("slideQueue","transform","translate(0, 0)"),this.props.updateCarouselStyle("slideQueue","opacity","0");break;default:this.props.updateCarouselStyle("slideContainer","transition","transform 0.3s ease-in"),this.props.updateCarouselStyle("slidePrev","transform","translate(-100%, 0)"),this.props.updateCarouselStyle("slidePrev","opacity",""),this.props.updateCarouselStyle("slideQueue","transform","translate(100%, 0)"),this.props.updateCarouselStyle("slideQueue","opacity","")}}},{key:"shouldComponentUpdate",value:function(e){return this.props.carouselRef===e.carouselRef}},{key:"componentDidUpdate",value:function(e){this.currentField&&this.updateStyles(this.currentField),this.props.aspectRatio!==e.aspectRatio&&this.updateStyles("imageSize")}},{key:"render",value:function(){return i.a.createElement(b,{heading:"Image",id:"image-settings"},i.a.createElement("div",{className:"fieldset__group"},i.a.createElement(C,null,i.a.createElement(B,{type:"select",id:"imageSize",label:"Size",options:["contain","cover"],value:this.props.imageSize,handleChange:this.handleChange})),i.a.createElement(C,null,i.a.createElement(B,{type:"color",label:"End-caps",id:"endCapColor",value:this.props.endCapColor,handleChange:this.handleChange}))),i.a.createElement("hr",{className:"fieldset__divider"}),i.a.createElement("div",{className:"fieldset__group"},i.a.createElement(C,null,i.a.createElement(B,{type:"checkbox",label:"Overlay",id:"slideOverlay",value:this.props.slideOverlay,handleChange:this.handleChange})),i.a.createElement(C,{isDisabled:!this.props.slideOverlay},i.a.createElement(B,{type:"color",id:"slideOverlayColor",value:this.props.slideOverlayColor,handleChange:this.handleChange,isDisabled:!this.props.slideOverlay})),i.a.createElement(C,{isDisabled:!this.props.slideOverlay},i.a.createElement(B,{isDisabled:!this.props.slideOverlay,type:"number",label:"Opacity",styles:"number-field--md",id:"slideOverlayOpacity",value:this.props.slideOverlayOpacity,handleChange:this.handleChange,min:"1",max:"100",step:"1"}))),i.a.createElement("hr",{className:"fieldset__divider"}),i.a.createElement("div",{className:"fieldset__group"},i.a.createElement(C,null,i.a.createElement(B,{type:"select",id:"transitionStyle",label:"Slide Animation",options:["horizontal","viewmaster","vertical","dissolve"],value:this.props.transitionStyle,handleChange:this.handleChange}))))}}]),t}(i.a.Component),V=Object(n.b)(function(e){var t=e.settings.aspectRatio.split(":").map(function(e){return parseInt(e,10)}),a=Object(p.a)(t,2),s=a[0],i=a[1];return{imageSize:e.settings.imageSize,endCapColor:e.settings.endCapColor,slideOverlay:e.settings.slideOverlay,slideOverlayColor:e.settings.slideOverlayColor,slideOverlayOpacity:e.settings.slideOverlayOpacity,transitionStyle:e.settings.transitionStyle,aspectRatio:e.settings.aspectRatio,x:s,y:i,carouselRef:e.carouselRef}},{updateSettings:N,updateCarouselStyle:j,addInstanceOption:T,removeInstanceOption:F})(U),P=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,s="checkbox"===e.target.type?e.target.checked:e.target.value;a.currentField=t,a.props.updateSettings(Object(f.a)({},t,s))},a.currentField=null,a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"updateStyles",value:function(){switch(this.currentField){case"arrowColor":case"arrowOpacity":this.updateArrows();break;case"indicatorBar":case"indicatorBarLocation":case"indicatorBarOpacity":case"indicatorBarStyle":case"indicatorActiveColor":case"indicatorInactiveColor":this.updateIndicatorBar(),this.props.indicatorBar&&"interior"!==this.props.indicatorBarLocation?this.props.addInstanceOption({indicatorBar:this.props.indicatorBarLocation}):this.props.indicatorBar?this.props.removeInstanceOption("indicatorBar"):this.props.addInstanceOption({indicatorBar:"off"});break;case"arrowBackground":case"arrowBackgroundVisibility":case"indicatorBackground":case"indicatorBackgroundVisibility":case"controlsBackgroundColor":case"controlsBackgroundOpacity":case"controlsBackgroundFeather":this.updateControlBackgrounds()}this.currentField=null}},{key:"updateArrows",value:function(){this.props.updateCarouselStyle("arrowSvg","opacity","".concat(this.props.arrowOpacity/100)),this.props.updateCarouselStyle("arrowPath","stroke",this.props.arrowColor)}},{key:"updateIndicatorBar",value:function(){null===this.props.carouselRef.querySelector(".carousel__indicator-bar--exterior")&&this.props.carouselRef.insertAdjacentHTML("beforeend",'<div class="carousel__indicator-bar carousel__indicator-bar--exterior"></div>');var e=this.props.carouselRef.querySelector(".carousel__indicator-bar--interior"),t=this.props.carouselRef.querySelector(".carousel__indicator-bar--exterior"),a=this.props.carouselRef.querySelector(".carousel__indicator-wrapper");this.props.indicatorBar?this.props.updateCarouselStyle("indicatorBar","visibility","visible"):this.props.updateCarouselStyle("indicatorBar","visibility","hidden"),"interior"===this.props.indicatorBarLocation?(e.appendChild(a),e.style.visibility=""):(t.appendChild(a),e.style.visibility="hidden"),this.props.updateCarouselStyle("indicatorActive","backgroundColor",this.props.indicatorActiveColor),this.props.updateCarouselStyle("indicatorActive","boxShadow","0 0 5px 0 ".concat(this.props.indicatorActiveColor)),this.props.updateCarouselStyle("indicatorActive","border","1px solid ".concat(this.props.indicatorActiveColor)),this.props.updateCarouselStyle("indicatorMarker","opacity","".concat(this.props.indicatorBarOpacity/100)),"1"===this.props.indicatorBarStyle?(this.props.updateCarouselStyle("indicatorMarker","border","1px solid ".concat(this.props.indicatorActiveColor)),this.props.updateCarouselStyle("indicatorMarker","backgroundColor","transparent")):(this.props.updateCarouselStyle("indicatorMarker","border","1px solid ".concat(this.props.indicatorInactiveColor)),this.props.updateCarouselStyle("indicatorMarker","backgroundColor",this.props.indicatorInactiveColor))}},{key:"updateControlBackgrounds",value:function(){this.props.arrowBackground?this.props.updateCarouselStyle("arrowBackground","display","block"):this.props.updateCarouselStyle("arrowBackground","display","none"),this.props.indicatorBackground?this.props.updateCarouselStyle("indicatorBackground","display","block"):this.props.updateCarouselStyle("indicatorBackground","display","none"),"viewport"===this.props.arrowBackgroundVisibility?(this.props.updateCarouselStyle("viewportArrowHover","opacity","".concat(this.props.controlsBackgroundOpacity/100)),this.props.updateCarouselStyle("arrowBackground","opacity","0")):(this.props.updateCarouselStyle("viewportArrowHover","opacity",""),this.props.updateCarouselStyle("arrowBackground","opacity","".concat(this.props.controlsBackgroundOpacity/100))),"viewport"===this.props.indicatorBackgroundVisibility?(this.props.updateCarouselStyle("viewportIndicatorHover","opacity","".concat(this.props.controlsBackgroundOpacity/100)),this.props.updateCarouselStyle("indicatorBackground","opacity","0"),this.props.updateCarouselStyle("localIndicatorHover","opacity","")):"local"===this.props.indicatorBackgroundVisibility?(this.props.updateCarouselStyle("viewportIndicatorHover","opacity",""),this.props.updateCarouselStyle("indicatorBackground","opacity","0"),this.props.updateCarouselStyle("localIndicatorHover","opacity","".concat(this.props.controlsBackgroundOpacity/100))):(this.props.updateCarouselStyle("viewportIndicatorHover","opacity",""),this.props.updateCarouselStyle("indicatorBackground","opacity","".concat(this.props.controlsBackgroundOpacity/100)),this.props.updateCarouselStyle("localIndicatorHover","opacity","")),this.props.updateCarouselStyle("controlsBackground1","backgroundColor",this.props.controlsBackgroundColor),this.props.updateCarouselStyle("controlsBackground2","backgroundColor",this.props.controlsBackgroundColor),this.props.controlsBackgroundFeather?(this.props.updateCarouselStyle("arrowBackground","boxShadow","".concat(this.props.controlsBackgroundColor," 0px 0px 8px 9px")),this.props.updateCarouselStyle("indicatorBackground","boxShadow","".concat(this.props.controlsBackgroundColor," 0px 0px 8px 9px"))):(this.props.updateCarouselStyle("arrowBackground","boxShadow","".concat(this.props.controlsBackgroundColor," 0px 0px 0px 6px")),this.props.updateCarouselStyle("indicatorBackground","boxShadow","".concat(this.props.controlsBackgroundColor," 0px 0px 0px 3px")))}},{key:"shouldComponentUpdate",value:function(e){return this.props.carouselRef===e.carouselRef}},{key:"componentDidUpdate",value:function(){this.currentField&&this.updateStyles()}},{key:"render",value:function(){return i.a.createElement(b,{heading:"Controls",id:"controls-settings"},i.a.createElement("div",{className:"fieldset__group"},i.a.createElement(C,null,i.a.createElement(B,{type:"color",label:"Arrows",id:"arrowColor",value:this.props.arrowColor,handleChange:this.handleChange})),i.a.createElement(C,null,i.a.createElement(B,{type:"number",label:"Opacity",styles:"number-field--md",id:"arrowOpacity",value:this.props.arrowOpacity,handleChange:this.handleChange,min:"1",max:"100",step:"1"}))),i.a.createElement("hr",{className:"fieldset__divider"}),i.a.createElement("div",{className:"fieldset__group"},i.a.createElement(C,null,i.a.createElement(B,{type:"checkbox",label:"Indicator Bar",id:"indicatorBar",value:this.props.indicatorBar,handleChange:this.handleChange})),i.a.createElement(C,{isDisabled:!this.props.indicatorBar},i.a.createElement(B,{type:"select",id:"indicatorBarLocation",label:"Location",options:["interior","exterior"],value:this.props.indicatorBarLocation,isDisabled:!this.props.indicatorBar,handleChange:this.handleChange})),i.a.createElement(C,{isDisabled:!this.props.indicatorBar},i.a.createElement(B,{type:"number",label:"Opacity",styles:"number-field--md",id:"indicatorBarOpacity",value:this.props.indicatorBarOpacity,min:"1",max:"100",step:"1",isDisabled:!this.props.indicatorBar,handleChange:this.handleChange})),i.a.createElement("div",{className:"input-group--wrappable"},i.a.createElement(C,{isDisabled:!this.props.indicatorBar},i.a.createElement(B,{type:"select",id:"indicatorBarStyle",label:"Style",options:["one color","two colors"],optionValues:["1","2"],value:this.props.indicatorBarStyle,isDisabled:!this.props.indicatorBar,handleChange:this.handleChange})),i.a.createElement("div",{className:"input-group--wrappable"},i.a.createElement(C,{isDisabled:!this.props.indicatorBar},i.a.createElement(B,{type:"color",id:"indicatorActiveColor",label:"Active",value:this.props.indicatorActiveColor,handleChange:this.handleChange,isDisabled:!this.props.indicatorBar})),i.a.createElement(C,{isDisabled:!this.props.indicatorBar,isRemoved:"1"===this.props.indicatorBarStyle},i.a.createElement(B,{type:"color",id:"indicatorInactiveColor",label:"Inactive",value:this.props.indicatorInactiveColor,handleChange:this.handleChange,isDisabled:!this.props.indicatorBar}))))),i.a.createElement("hr",{className:"fieldset__divider"}),i.a.createElement("div",{className:"fieldset__group fieldset__group--space"},i.a.createElement("div",{className:"input-group--wrappable"},i.a.createElement(C,null,i.a.createElement(B,{type:"checkbox",label:"Arrow Background",id:"arrowBackground",value:this.props.arrowBackground,handleChange:this.handleChange})),i.a.createElement(C,{isDisabled:!this.props.arrowBackground},i.a.createElement(B,{type:"select",id:"arrowBackgroundVisibility",label:"Visibility",options:["viewport hover","always"],optionValues:["viewport","always"],value:this.props.arrowBackgroundVisibility,isDisabled:!this.props.arrowBackground,handleChange:this.handleChange}))),i.a.createElement("div",{className:"input-group--wrappable"},i.a.createElement(C,null,i.a.createElement(B,{type:"checkbox",label:"Indicator Background",id:"indicatorBackground",value:this.props.indicatorBackground,handleChange:this.handleChange})),i.a.createElement(C,{isDisabled:!this.props.indicatorBackground},i.a.createElement(B,{type:"select",id:"indicatorBackgroundVisibility",label:"Visibility",options:["local hover","viewport hover","always"],optionValues:["local","viewport","always"],value:this.props.indicatorBackgroundVisibility,isDisabled:!this.props.indicatorBackground,handleChange:this.handleChange})))),i.a.createElement("div",{className:"fieldset__group"},i.a.createElement(C,null,i.a.createElement(B,{type:"color",label:"Background Style",id:"controlsBackgroundColor",value:this.props.controlsBackgroundColor,handleChange:this.handleChange})),i.a.createElement(C,null,i.a.createElement(B,{type:"number",label:"Opacity",styles:"number-field--md",id:"controlsBackgroundOpacity",value:this.props.controlsBackgroundOpacity,min:"1",max:"100",step:"1",handleChange:this.handleChange})),i.a.createElement(C,null,i.a.createElement(B,{type:"checkbox",label:"Feather",id:"controlsBackgroundFeather",value:this.props.controlsBackgroundFeather,handleChange:this.handleChange}))))}}]),t}(i.a.Component),z=Object(n.b)(function(e){return{arrowColor:e.settings.arrowColor,arrowOpacity:e.settings.arrowOpacity,indicatorBar:e.settings.indicatorBar,indicatorBarLocation:e.settings.indicatorBarLocation,indicatorBarOpacity:e.settings.indicatorBarOpacity,indicatorBarStyle:e.settings.indicatorBarStyle,indicatorActiveColor:e.settings.indicatorActiveColor,indicatorInactiveColor:e.settings.indicatorInactiveColor,arrowBackground:e.settings.arrowBackground,arrowBackgroundVisibility:e.settings.arrowBackgroundVisibility,indicatorBackground:e.settings.indicatorBackground,indicatorBackgroundVisibility:e.settings.indicatorBackgroundVisibility,controlsBackgroundColor:e.settings.controlsBackgroundColor,controlsBackgroundOpacity:e.settings.controlsBackgroundOpacity,controlsBackgroundFeather:e.settings.controlsBackgroundFeather,carouselRef:e.carouselRef}},{updateSettings:N,updateCarouselStyle:j,addInstanceOption:T,removeInstanceOption:F})(P),X=function(e){return i.a.createElement("fieldset",{className:"fieldset ".concat(e.styles)},i.a.createElement("legend",{className:"fieldset__legend"},i.a.createElement("h2",{className:"fieldset__heading"},e.heading)),e.children)},H=function(){function e(t,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=s.autoplay,r=s.aspectRatio,o=s.imageSize,n=s.transition,l=s.indicatorBar;Object(u.a)(this,e),this.dom={},this.imageArray=a,this.settings={autoplay:i||null,aspectRatio:r||"4:3",imageSize:o||"contain",transition:n||"horizontal",indicatorBar:l||"interior"},this.state={id:t,quantity:0,slidesArr:[],isSliding:!1,direction:"",currentImage:{},currentMarker:null},this.viewport={},this.touchCtrls={slideOffset:{top:null,bottom:null,left:null,right:null},viewmasterFactor:null,startX:null,startY:null,distX:null,distY:null,startD:null,duration:null,slides:[],scheduledAnimationFrame:!1},this.rafManager=this.rafManager.bind(this),this.init(this.imageArray)}return Object(h.a)(e,[{key:"init",value:function(){this.createCarouselElements(),this.dom.carousel=document.querySelector("#".concat(this.state.id,".carousel")),this.dom.leftControl=this.dom.carousel.querySelector(".carousel__controls--left"),this.dom.rightControl=this.dom.carousel.querySelector(".carousel__controls--right"),"off"!==this.settings.indicatorBar&&(this.dom.indicatorBar="interior"===this.settings.indicatorBar?this.dom.carousel.querySelector(".carousel__indicator-bar--interior"):this.dom.carousel.querySelector(".carousel__indicator-bar--exterior")),this.dom.viewport=this.dom.carousel.querySelector(".carousel__viewport"),this.dom.viewportWrapper=this.dom.carousel.querySelector(".carousel__viewport-wrapper"),this.dom.leftControl.addEventListener("mousedown",this.backward.bind(this)),this.dom.rightControl.addEventListener("mousedown",this.forward.bind(this)),this.dom.carousel.addEventListener("keydown",this.keyDownControls.bind(this)),this.dom.viewportWrapper.addEventListener("touchstart",this.rafManager,!1),this.dom.viewportWrapper.addEventListener("touchend",this.rafManager,!1),this.imageArray&&this.buildCarousel()}},{key:"rafManager",value:function(e){var t=this;switch(e.preventDefault(),e.type){case"touchmove":if(this.touchCtrls.scheduledAnimationFrame)return;this.touchCtrls.scheduledAnimationFrame=!0,requestAnimationFrame(function(){t.touchMoveRenders(e)});break;case"touchend":requestAnimationFrame(function(){t.touchEndRenders(e)});break;default:requestAnimationFrame(function(){t.touchStartRenders(e)})}}},{key:"createCarouselElements",value:function(){var e='\n      <div class="carousel__viewport-wrapper">\n        <button type="button" class="carousel__controls carousel__controls--left">\n          <div class="carousel__focus-ring"></div>\n          <div class="carousel__controls-background carousel__controls-background--arrow"></div>\n          <svg class="carousel__icon-left" viewBox="0 0 62.826 169.29">\n            <g transform="translate(370.32 -123.05)">\n              <path\n                d="m-312.54 287.28c-52.709-78.69-52.709-78.69-52.709-78.69m52.709-80.481c-52.747 80.11-52.747 80.11-52.747 80.11"\n                style="fill:none;stroke-linecap:round;stroke-width:10"\n              />\n            </g>\n          </svg>\n        </button>\n        <button type="button" class="carousel__controls carousel__controls--right">\n          <div class="carousel__focus-ring"></div>\n          <div class="carousel__controls-background carousel__controls-background--arrow"></div>\n          <svg class="carousel__icon-right" viewBox="0 0 62.826 169.29">\n            <g transform="translate(370.32 -123.05)">\n              <path\n                d="m-365.28 287.28c52.709-78.69 52.709-78.69 52.709-78.69m-52.709-80.481c52.747 80.11 52.747 80.11 52.747 80.11"\n                style="fill:none;stroke-linecap:round;stroke-width:10"\n              />\n            </g>\n          </svg>\n        </button>\n        '.concat("interior"===this.settings.indicatorBar?'\n          <div class="carousel__indicator-bar carousel__indicator-bar--interior">\n            <div class="carousel__controls-background carousel__controls-background--indicator"></div>\n          </div>\n        ':"",'\n\n        <div class="carousel__viewport"></div>\n      </div>\n        ').concat("exterior"===this.settings.indicatorBar?'<div class="carousel__indicator-bar carousel__indicator-bar--exterior"></div>':"","\n    ");document.getElementById(this.state.id).innerHTML=e}},{key:"buildCarousel",value:function(){for(this.state.quantity=this.imageArray.length;this.dom.viewport.firstChild;)this.dom.viewport.removeChild(this.dom.viewport.firstChild);this.buildSlides(),this.state.slidesArr=[];for(var e=0;e<this.state.quantity;e++)this.state.slidesArr.push({id:e,pos:e});if(1===this.state.quantity)return this.dom.leftControl.classList.add("hidden"),this.dom.rightControl.classList.add("hidden"),void(this.dom.indicatorBar&&this.dom.indicatorBar.classList.add("hidden"));this.dom.leftControl.classList.remove("hidden"),this.dom.rightControl.classList.remove("hidden"),this.dom.indicatorBar&&(this.dom.indicatorBar.classList.remove("hidden"),this.dom.indicatorBar.contains(document.querySelector(".carousel__indicator-wrapper"))&&this.dom.indicatorBar.removeChild(document.querySelector(".carousel__indicator-wrapper")),this.buildindicatorBar()),this.initialRender()}},{key:"buildSlides",value:function(){var e=this,t="";this.imageArray.forEach(function(e){var a=e.auth?'<span class="carousel__image-attribution">Photo by <a href="'.concat(e.profile,'?utm_source=deluxe_image_carousel&utm_medium=referral">').concat(e.auth,'</a> on <a href="https://unsplash.com/?utm_source=deluxe_image_carousel&utm_medium=referral">Unsplash</a></span>'):"",s='\n      <div class="carousel__slide-container">\n        '.concat(a," ",'\n        <div class="carousel__slide-wrapper">\n          <img class="carousel__slide" src="').concat(e.url,'" alt="').concat(e.alt,'">\n          <div class="carousel__slide-overlay"></div>\n        </div>\n      </div>\n      ');t+=s}),this.dom.viewport.insertAdjacentHTML("beforeend",t),this.dom.slideContainers=Object(d.a)(this.dom.carousel.querySelectorAll(".carousel__slide-container")),this.dom.slides=this.dom.slideContainers.map(function(e){return{wrapper:e.querySelector(".carousel__slide-wrapper"),img:e.querySelector(".carousel__slide")}}),this.dom.slides.forEach(function(t){var a=setInterval(function(){t.img.naturalWidth&&(clearInterval(a),e.addOrientationStyles(t))},10)})}},{key:"addOrientationStyles",value:function(e){var t=this,a=(e.img.naturalWidth/e.img.naturalHeight).toFixed(2),s=function(){var e=t.settings.aspectRatio.split(":").map(function(e){return parseInt(e,10)}),a=Object(p.a)(e,2);return(a[0]/a[1]).toFixed(2)}();if("contain"===this.settings.imageSize)if(a>s){e.wrapper.classList.add("carousel__slide-wrapper--landscape");var i=s/a*100;e.wrapper.style.height="".concat(i,"%")}else if(a<s){e.wrapper.classList.add("carousel__slide-wrapper--portrait");var r=a/s*100;e.wrapper.style.width="".concat(r,"%")}else e.wrapper.classList.add("carousel__slide-wrapper--landscape","carousel__slide-wrapper--portrait");else if(a>s){e.wrapper.classList.add("carousel__slide-wrapper--portrait");var o=a/s*100;e.wrapper.style.width="".concat(o,"%")}else if(a<s){e.wrapper.classList.add("carousel__slide-wrapper--landscape");var n=s/a*100;e.wrapper.style.height="".concat(n,"%")}else e.wrapper.classList.add("carousel__slide-wrapper--landscape","carousel__slide-wrapper--portrait")}},{key:"buildindicatorBar",value:function(){for(var e="",t=0;t<this.state.quantity;t++)e+='<div class="carousel__indicator-marker"></div>';var a='\n      <div class="carousel__indicator-wrapper">\n        '.concat(e,"\n      </div>");this.dom.indicatorBar.insertAdjacentHTML("beforeend",a),document.querySelector(".carousel__indicator-wrapper").addEventListener("click",this.jumpToMarker.bind(this)),this.dom.indicatorMarkers=Object(d.a)(document.querySelectorAll(".carousel__indicator-marker"))}},{key:"updateindicatorBar",value:function(){this.state.currentMarker&&this.state.currentMarker.classList.remove("carousel__indicator-marker--active"),this.state.currentMarker=this.dom.indicatorMarkers[this.state.slidesArr[1].id],this.state.currentMarker.classList.add("carousel__indicator-marker--active")}},{key:"initialRender",value:function(){var e=this;if(this.state.slidesArr.forEach(function(t){t.pos===e.state.quantity-1?t.pos=0:t.pos+=1}),this.sortImageArray(),this.dom.slideContainers[this.state.slidesArr[0].id].classList.add("prev"),this.dom.slideContainers[this.state.slidesArr[0].id].classList.add("hide"),this.state.quantity>2)for(var t=2;t<this.state.quantity;t++)this.dom.slideContainers[this.state.slidesArr[t].id].classList.add("hide"),this.dom.slideContainers[this.state.slidesArr[t].id].classList.add("queue");this.dom.indicatorBar&&this.updateindicatorBar(),this.settings.autoplay&&this.initializeAutoplay()}},{key:"initializeAutoplay",value:function(){var e=this,t=setInterval(function(){e.forward()},this.settings.autoplay);this.dom.viewportWrapper.addEventListener("mouseenter",function(){clearInterval(t)}),this.dom.viewportWrapper.addEventListener("mouseleave",function(){t=setInterval(function(){e.forward()},e.settings.autoplay)}),this.dom.viewportWrapper.addEventListener("touchstart",function(){clearInterval(t)}),this.dom.viewportWrapper.addEventListener("touchend",function(){t=setInterval(function(){e.forward()},e.settings.autoplay)})}},{key:"jumpToMarker",value:function(e){var t,a,s=1;e.target.classList.contains("carousel__indicator-marker")&&(this.dom.slideContainers.forEach(function(e){return e.classList.add("carousel__slide-container--jumper")}),(t=this.dom.indicatorMarkers.indexOf(e.target)-this.dom.indicatorMarkers.indexOf(this.state.currentMarker))>0?(this.forward(e),a=setInterval(function(){if(s===t)return clearInterval(a),void this.dom.slideContainers.forEach(function(e){return e.classList.remove("carousel__slide-container--jumper")});this.forward(e),s++}.bind(this),75)):(t*=-1,this.backward(e),a=setInterval(function(){if(s===t)return clearInterval(a),void this.dom.slideContainers.forEach(function(e){return e.classList.remove("carousel__slide-container--jumper")});this.backward(e),s++}.bind(this),75)))}},{key:"touchStartRenders",value:function(e){this.viewport=this.dom.viewportWrapper.getBoundingClientRect(),"viewmaster"!==this.settings.transition&&"horizontal"!==this.settings.transition||(this.touchCtrls.slideOffset.left=this.viewport.left-this.viewport.width,this.touchCtrls.slideOffset.right=this.viewport.left+this.viewport.width),"vertical"===this.settings.transition&&(this.touchCtrls.slideOffset.top=this.viewport.top-this.viewport.height,this.touchCtrls.slideOffset.bottom=this.viewport.top+this.viewport.height),"viewmaster"===this.settings.transition&&(this.touchCtrls.viewmasterFactor=this.viewport.height/2/this.viewport.width),this.touchCtrls.slides=[this.dom.slideContainers[this.state.slidesArr[0].id],this.dom.slideContainers[this.state.slidesArr[1].id],this.dom.slideContainers[this.state.slidesArr[2].id]];var t=new Date;this.touchCtrls.startD=t.getTime();var a=e.touches[0];this.touchCtrls.startX=parseInt(a.clientX,10),this.touchCtrls.startY=parseInt(a.clientY,10),"dissolve"!==this.settings.transition&&this.touchCtrls.slides.forEach(function(e){e.classList.add("carousel__slide-container--no-trans"),e.classList.remove("hide")}),this.dom.viewportWrapper.addEventListener("touchmove",this.rafManager,!1)}},{key:"touchMoveRenders",value:function(e){var t,a,s=this,i=this.touchCtrls,r=e.touches[0];if(document.elementFromPoint(r.clientX,r.clientY)!==e.target)return i.scheduledAnimationFrame=!1,void requestAnimationFrame(function(){s.touchEndRenders(e)});switch(this.viewport.width&&(t=parseFloat(this.viewport.width.toFixed(1))),this.viewport.height&&(a=parseFloat(this.viewport.height.toFixed(1))),"vertical"!==this.settings.transition&&(i.distX=parseInt(r.clientX,10)-i.startX),this.settings.transition){case"viewmaster":i.distX>0?i.slides[1].style.transform="translate(".concat(i.distX,"px, ").concat(i.distX*i.viewmasterFactor,"px)"):i.slides[1].style.transform="translate(".concat(i.distX,"px, ").concat(i.distX*-i.viewmasterFactor,"px)"),i.slideOffset.left+i.distX>=i.slideOffset.left?i.slides[0].style.transform="translate(".concat(i.distX-t,"px, ").concat(.5*a-i.distX*i.viewmasterFactor,"px)"):i.slides[0].style.transform=null,i.slideOffset.right+i.distX<=i.slideOffset.right?i.slides[2].style.transform="translate(".concat(t+i.distX,"px, ").concat(.5*a+i.distX*i.viewmasterFactor,"px)"):i.slides[2].style.transform=null;break;case"vertical":i.distY=parseInt(r.clientY,10)-i.startY,i.slides[1].style.transform="translate(0, ".concat(i.distY,"px)"),i.slideOffset.top+i.distY>=i.slideOffset.top?i.slides[0].style.transform="translate(0, ".concat(i.distY-a,"px)"):i.slides[0].style.transform=null,i.slideOffset.bottom+i.distY<=i.slideOffset.bottom?i.slides[2].style.transform="translate(0, ".concat(a+i.distY,"px)"):i.slides[2].style.transform=null;break;case"dissolve":break;default:i.slides[1].style.transform="translate(".concat(i.distX,"px, 0)"),i.slideOffset.left+i.distX>=i.slideOffset.left?i.slides[0].style.transform="translate(".concat(i.distX-t,"px, 0)"):i.slides[0].style.transform=null,i.slideOffset.right+i.distX<=i.slideOffset.right?i.slides[2].style.transform="translate(".concat(t+i.distX,"px, 0)"):i.slides[2].style.transform=null}i.scheduledAnimationFrame=!1}},{key:"touchEndRenders",value:function(e){var t=this;this.dom.viewportWrapper.removeEventListener("touchmove",this.rafManager,!1);var a="vertical"===this.settings.transition?this.touchCtrls.distY:this.touchCtrls.distX,s="vertical"===this.settings.transition?.4*this.viewport.height:.4*this.viewport.width;this.touchCtrls.slides.forEach(function(e){e.classList.remove("carousel__slide-container--no-trans"),e.style.transform=null});var i=new Date;this.touchCtrls.duration=i.getTime()-this.touchCtrls.startD,this.touchCtrls.duration<200&&Math.abs(a)>70?("dissolve"!==this.settings.transition&&this.touchCtrls.slides.forEach(function(e){e.classList.add("carousel__slide-container--flick-trans")}),a>0&&this.backward(e),a<0&&this.forward(e)):Math.abs(a)>s&&(a>0&&this.backward(e),a<0&&this.forward(e)),this.touchCtrls.distX=null,this.touchCtrls.distY=null,Object(d.a)(Object.keys(this.touchCtrls.slideOffset)).forEach(function(e){t.touchCtrls.slideOffset[e]=null})}},{key:"backwardRender",value:function(){2===this.state.quantity?(this.dom.slideContainers[this.state.slidesArr[1].id].classList.remove("queue"),this.dom.slideContainers[this.state.slidesArr[1].id].classList.add("prev"),this.dom.slideContainers[this.state.slidesArr[0].id].classList.add("queue"),setTimeout(function(){this.dom.slideContainers[this.state.slidesArr[1].id].classList.remove("hide"),this.dom.slideContainers[this.state.slidesArr[1].id].classList.remove("prev")}.bind(this),1)):(this.dom.slideContainers[this.state.slidesArr[0].id].classList.add("hide"),this.dom.slideContainers[this.state.slidesArr[0].id].classList.add("prev"),this.dom.slideContainers[this.state.slidesArr[0].id].classList.remove("queue"),this.dom.slideContainers[this.state.slidesArr[1].id].classList.remove("hide"),this.dom.slideContainers[this.state.slidesArr[1].id].classList.remove("prev"),this.dom.slideContainers[this.state.slidesArr[2].id].classList.add("queue"))}},{key:"forwardRender",value:function(){2===this.state.quantity?(this.dom.slideContainers[this.state.slidesArr[0].id].classList.add("prev"),this.dom.slideContainers[this.state.slidesArr[1].id].classList.remove("prev"),this.dom.slideContainers[this.state.slidesArr[1].id].classList.add("queue"),setTimeout(function(){this.dom.slideContainers[this.state.slidesArr[1].id].classList.remove("hide"),this.dom.slideContainers[this.state.slidesArr[1].id].classList.remove("queue")}.bind(this),1)):(this.dom.slideContainers[this.state.slidesArr[0].id].classList.add("prev"),this.dom.slideContainers[this.state.slidesArr[1].id].classList.remove("hide"),this.dom.slideContainers[this.state.slidesArr[1].id].classList.remove("queue"),this.dom.slideContainers[this.state.slidesArr[this.state.quantity-1].id].classList.add("hide"),this.dom.slideContainers[this.state.slidesArr[this.state.quantity-1].id].classList.add("queue"),this.dom.slideContainers[this.state.slidesArr[this.state.quantity-1].id].classList.remove("prev"))}},{key:"backward",value:function(e){var t=this;if(e&&!e.target.classList.contains("carousel__indicator-marker")){if("mousedown"===e.type&&1!==e.buttons)return;if(e.preventDefault(),this.state.isSliding)return;this.state.isSliding=!0,this.state.direction="backward"}this.state.currentImage=this.dom.slideContainers[this.state.slidesArr[1].id],this.boundSliderTransitionend=this.sliderTransitionend.bind(this),this.state.currentImage.addEventListener("transitionend",this.boundSliderTransitionend),this.state.slidesArr.forEach(function(e){e.pos===t.state.quantity-1?e.pos=0:e.pos+=1}),this.sortImageArray(),this.backwardRender()}},{key:"forward",value:function(e){var t=this;if(e&&!e.target.classList.contains("carousel__indicator-marker")){if("mousedown"===e.type&&1!==e.buttons)return;if(e.preventDefault(),this.state.isSliding)return;this.state.isSliding=!0,this.state.direction="forward"}this.state.currentImage=this.dom.slideContainers[this.state.slidesArr[1].id],this.boundSliderTransitionend=this.sliderTransitionend.bind(this),this.state.currentImage.addEventListener("transitionend",this.boundSliderTransitionend),this.state.slidesArr.forEach(function(e){0===e.pos?e.pos=t.state.quantity-1:e.pos-=1}),this.sortImageArray(),this.forwardRender()}},{key:"sliderTransitionend",value:function(){this.state.isSliding=!1,2===this.state.quantity&&"backward"===this.state.direction&&(this.dom.slideContainers[this.state.slidesArr[0].id].classList.add("hide"),this.dom.slideContainers[this.state.slidesArr[0].id].classList.remove("queue"),this.dom.slideContainers[this.state.slidesArr[0].id].classList.add("prev")),2===this.state.quantity&&"forward"===this.state.direction&&(this.dom.slideContainers[this.state.slidesArr[0].id].classList.add("hide"),this.dom.slideContainers[this.state.slidesArr[0].id].classList.remove("prev"),this.dom.slideContainers[this.state.slidesArr[0].id].classList.add("queue")),this.touchCtrls.slides.forEach(function(e){return e.classList.remove("carousel__slide-container--flick-trans")}),this.dom.indicatorBar&&this.updateindicatorBar(),this.state.currentImage.removeEventListener("transitionend",this.boundSliderTransitionend)}},{key:"keyDownControls",value:function(e){e.target.classList.contains("carousel__controls")&&("Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),e.target.classList.contains("carousel__controls--left")?this.backward(e):this.forward(e)),"ArrowLeft"!==e.key&&"Left"!==e.key||(this.dom.leftControl.focus(),this.backward(e)),"ArrowRight"!==e.key&&"Right"!==e.key||(this.dom.rightControl.focus(),this.forward(e)))}},{key:"sortImageArray",value:function(){this.state.slidesArr.sort(function(e,t){return e.pos<t.pos?-1:e.pos>t.pos?1:0})}}]),e}(),Y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(v.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,s=e.target.value;switch(t){case"unsplashQuery":a.setState({query:s});break;case"unsplashQuantity":a.setState({quantity:s})}},a.formSubmit=function(e){e.preventDefault(),a.props.fetchImages(a.state.query,a.state.quantity),a.setState({query:""})},a.state={query:"",quantity:5},a.carousel=i.a.createRef(),a.props.fetchImages(a.randomizeQuery(),a.state.quantity),a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"randomizeQuery",value:function(){var e=["puppies","kittens","parrots","ocean","mountains","tropical","sailboat","dragonfly","coral","tiger","wolf"];return e[Math.floor(Math.random()*e.length)]}},{key:"carouselInstantiator",value:function(e){e.imageSources===this.props.imageSources&&this.props.instanceOptions.autoplay===e.instanceOptions.autoplay&&this.props.instanceOptions.transition===e.instanceOptions.transition||(new H(this.props.namespace,this.props.imageSources,this.props.instanceOptions),this.props.storeRef(this.carousel.current))}},{key:"componentDidUpdate",value:function(e){this.carouselInstantiator(e)}},{key:"render",value:function(){return i.a.createElement(X,{heading:"Preview",styles:"preview"},i.a.createElement("div",{className:"preview__wrapper"},i.a.createElement("h3",{className:"preview__sub-heading"},"Test your customized Carousel with the Unsplash API"),i.a.createElement("div",{className:"preview__search-form"},i.a.createElement(B,{type:"text",id:"unsplashQuery",placeholder:"Search for new images",styles:"preview__search-input",value:this.state.query,handleChange:this.handleChange}),i.a.createElement("div",null,i.a.createElement(B,{type:"select",id:"unsplashQuantity",label:"Quantity",options:["1","2","3","4","5","6","7","8","9","10"],value:this.state.quantity,handleChange:this.handleChange}),i.a.createElement("button",{onClick:this.formSubmit,className:"preview__submit-btn"},"Submit"))),i.a.createElement("div",{id:this.props.namespace,className:"carousel",ref:this.carousel})))}}]),t}(i.a.Component),Q=Object(n.b)(function(e){return{imageSources:e.imageSources,namespace:e.settings.carouselNamespace,instanceOptions:e.instanceOptions}},{fetchImages:function(e,t){return function(){var a=Object(I.a)(A.a.mark(function a(s){var i,r;return A.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L()({method:"GET",url:"https://feverdreamdesigns.com/api-call.php",params:{query:e,per_page:t}});case 2:i=a.sent,r=i.data.results.map(function(e){return{url:e.urls.regular,alt:e.description,auth:e.user.name,profile:e.user.links.html}}),s({type:"FETCH_IMAGES",payload:r});case 5:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},storeRef:function(e){return{type:"STORE_REF",payload:e}}})(Y),G=function(e){return i.a.createElement("form",{id:"settingsView",role:"tabpanel","aria-labelledby":"settingsTab",className:"settings-form ".concat(e.visibility),autoComplete:"off"},i.a.createElement(Q,null),i.a.createElement("div",{className:"settings-form__group"},i.a.createElement(q,null),i.a.createElement(M,null),i.a.createElement(V,null),i.a.createElement(z,null)))},J=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",{className:"source-code__heading"},e.heading),i.a.createElement("pre",{className:"source-code__block"},i.a.createElement("code",null,e.code)))},$=function(e){function t(){var e,a;Object(u.a)(this,t);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(i)))).state={carouselSrc:"",customSrc:"",staticSrc:""},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"updateInstanceCode",value:function(){if(Object.keys(this.props.instanceOptions).length>0){var e=Object.entries(this.props.instanceOptions).map(function(e){return"".concat(e[0],": '").concat(e[1],"'")}).join(", ");return"new Carousel(\n\t".concat(this.props.carouselNamespace,",\n\t[yourImageArrayHere],\n\t{ ").concat(e," }\n)")}return"new Carousel(".concat(this.props.carouselNamespace,", [yourImageArrayHere])")}},{key:"formatRules",value:function(e){return this.props.cssCode.filter(function(t){var a;return t.selectorText&&(a=t.selectorText.startsWith(e)&&!t.selectorText.includes("image-attribution")),t.cssRules&&(a=t.cssRules[0].selectorText.startsWith(e)&&!t.cssRules[0].selectorText.includes("image-attribution")),a}).map(function(e){if(e.media){var t=e.cssText.split("\n");return t[1]="\t".concat(t[1].trim().replace(/{ /g,"{\n\t\t").replace(/; (?!})/g,";\n\t\t").replace(/ }/g,"\n\t}")),"".concat(t.slice(0,-1).join("\n"),"\n").concat(t[t.length-1])}return e.cssText.replace(/{ /g,"{\n\t").replace(/; (?!})/g,";\n\t").replace(/ }/g,"\n}")}).join("\n\n")}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("load",function(){e.setState({carouselSrc:window.CarouselSrc.toString().split("\n").filter(function(e){return!e.includes("FILTER_LINES")}).join("\n")})})}},{key:"componentDidUpdate",value:function(e){e.cssCode!==this.props.cssCode&&this.setState({staticSrc:this.formatRules(".carousel")}),e.cssCode===this.props.cssCode&&e.customRules===this.props.customRules||this.setState({customSrc:this.formatRules("#".concat(this.props.carouselNamespace))})}},{key:"render",value:function(){var e='<div id="'.concat(this.props.carouselNamespace,'" class="carousel"></div>');return i.a.createElement("div",{id:"sourceCodeView",role:"tabpanel","aria-labelledby":"sourceCodeTab",className:"source-code__view ".concat(this.props.visibility)},i.a.createElement(J,{heading:"HTML",code:e}),i.a.createElement(J,{heading:"JS Carousel Instance",code:this.updateInstanceCode()}),i.a.createElement(J,{heading:"Carousel Class",code:this.state.carouselSrc}),i.a.createElement(J,{heading:"Custom CSS",code:this.state.customSrc}),i.a.createElement(J,{heading:"Static CSS",code:this.state.staticSrc}))}}]),t}(i.a.Component),K=Object(n.b)(function(e){return{carouselNamespace:e.settings.carouselNamespace,instanceOptions:e.instanceOptions,customRules:e.customRules}})($),Z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(v.a)(t).call(this,e))).onTabChange=function(e){a.setState({activeTab:e})},a.state={activeTab:"settingsTab"},a.cssRules=[],a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"cacheCssRules",value:function(){var e=Object(d.a)(document.styleSheets).filter(function(e){return"carousel"===e.title}),t=Object(p.a)(e,1)[0];this.cssRules=Object(d.a)(t.cssRules||t.rules)}},{key:"componentDidMount",value:function(){this.cacheCssRules()}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(g,{activeTab:this.state.activeTab,onTabChange:this.onTabChange}),i.a.createElement("main",null,i.a.createElement(G,{visibility:"settingsTab"===this.state.activeTab?"":"removed"}),i.a.createElement(K,{visibility:"settingsTab"===this.state.activeTab?"removed":"",cssCode:this.cssRules})))}}]),t}(i.a.Component),ee=a(24),te=a.n(ee),ae=[{name:"carousel",dom:".carousel"},{name:"viewportWrapper",dom:" .carousel__viewport-wrapper"},{name:"viewportArrowHover",dom:" .carousel__viewport-wrapper:hover .carousel__controls-background--arrow"},{name:"viewportIndicatorHover",dom:" .carousel__viewport-wrapper:hover .carousel__controls-background--indicator"},{name:"viewport",dom:" .carousel__viewport"},{name:"slideContainer",dom:" .carousel__slide-container"},{name:"slideOverlay",dom:" .carousel__slide-overlay"},{name:"slidePrev",dom:".carousel .prev"},{name:"slideQueue",dom:".carousel .queue"},{name:"arrowSvg",dom:" .carousel__controls svg"},{name:"arrowPath",dom:" .carousel__controls path"},{name:"indicatorBar",dom:" .carousel__indicator-bar"},{name:"localIndicatorHover",dom:" .carousel__indicator-bar--interior:hover .carousel__controls-background--indicator"},{name:"indicatorMarker",dom:" .carousel__indicator-marker"},{name:"indicatorActive",dom:" .carousel__indicator-marker--active"},{name:"controlsBackground1",dom:" .carousel__controls-background"},{name:"controlsBackground2",dom:" .carousel__controls-background::after"},{name:"arrowBackground",dom:" .carousel__controls-background--arrow"},{name:"indicatorBackground",dom:" .carousel__controls-background--indicator"}],se={},ie=Object(d.a)(document.styleSheets).filter(function(e){return"carousel"===e.title}),re=Object(p.a)(ie,1)[0],oe=Object(d.a)(re.cssRules||re.rules);ae.forEach(function(e){var t=oe.filter(function(t){return t.selectorText==="#my-carousel".concat(e.dom)}),a=Object(p.a)(t,1);se[e.name]=a[0]});var ne=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_STYLE":return(e=te()(t))[a.payload.name].style[a.payload.prop]=a.payload.value,e;case"UPDATE_NAMESPACE":return e=te()(t),ae.forEach(function(t){e[t.name].selectorText="#".concat(a.payload).concat(t.dom)}),e;default:return t}},le=a(18),ce=window.innerWidth<=600,de={carouselNamespace:"my-carousel",carouselAutoplay:!1,autoplayDuration:5,percentWidth:ce?"100":"85",pixelWidth:"",widthUnits:"%",aspectRatio:"4:3",viewportBorder:!1,viewportBorderColor:"#000000",viewportBorderThickness:"1",viewportRounding:ce?"0":"3",roundingUnits:"px",imageSize:"contain",endCapColor:"#000000",slideOverlay:!1,slideOverlayColor:"#000000",slideOverlayOpacity:"20",transitionStyle:"horizontal",arrowColor:"#ffffff",arrowOpacity:"70",indicatorBar:!0,indicatorBarLocation:"interior",indicatorBarOpacity:"60",indicatorBarStyle:"1",indicatorActiveColor:"#ffffff",indicatorInactiveColor:"#ffffff",arrowBackground:!0,arrowBackgroundVisibility:"viewport",indicatorBackground:!0,indicatorBackgroundVisibility:"local",controlsBackgroundColor:"#000000",controlsBackgroundOpacity:"50",controlsBackgroundFeather:!0},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;return"UPDATE_SETTINGS"===t.type?Object(le.a)({},e,t.payload):e};function ue(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var s=a.call(e,t||"default");if("object"!==typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_OPTION":return Object(le.a)({},e,t.payload);case"REMOVE_OPTION":var a=t.payload;return e[a],Object(w.a)(e,[a].map(ue));default:return e}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_IMAGES":return t.payload;default:return e}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"STORE_REF"===t.type?t.payload:e},ye=Object(l.c)({customRules:ne,settings:pe,instanceOptions:he,imageSources:me,carouselRef:ve});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ge=Object(l.d)(ye,Object(l.a)(c.a));o.a.render(i.a.createElement(n.a,{store:ge},i.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.c1901f5a.chunk.js.map